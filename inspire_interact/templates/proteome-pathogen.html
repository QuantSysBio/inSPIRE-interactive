<!DOCTYPE html>
<html>
<head>
	<link rel='stylesheet' type="text/css" href="{{ url_for('static',filename='styles/style.css') }}">
	<script src="{{url_for('static', filename='index.js')}}"></script>
	<title>inSPIRE-Interactive</title>
</head>
<body onload="checkFilePattern('{{ server_address }}', '{{ user }}', '{{ project }}', 'proteome-select')">	
	<!-- main page-->
	<dev class = "page-wrapper">
	
		<!-- header -->
		{{ inspire_header|safe }}
		<hr>
        <h3 class="adjusted-text">Proteome Fasta Files</h3>
		<p class="adjusted-text">For inSPIRE to provide pathogen eptiope candidates it requires both host and pathogen FASTA files.</p>

        <div class="upload-div">
            <div id="all-proteome-div">

                <!-- PROTEOME DIV -->
                <div id="sub-proteome-select-div" class="row" style="margin-left: 0%;">
                    <div id="proteome-select-column-1" style="margin-left: 0%;">
                        <p>Upload the host proteome:</p>
                        <input type="file" id="host-proteome-file-upload" multiple="false" />
                        <br>
                        <p>Upload the pathogen proteome:</p>
                        <input type="file" id="pathogen-proteome-file-upload" multiple="false" />
                        <br>
                        <br>

                        <input type="submit" onclick="uploadFiles('{{ server_address }}', '{{ user }}', '{{ project }}', 'proteome-select')">
                        <p id="proteome-select-waiting" style="display:none;">Files uploading...</p>
                        <br>
                        <progress id="progressBar" value="0" max="100" style="width:300px;display:none"></progress>
                        <p id="loaded_n_total"></p>
                        <p id="proteome-select-no-files" style="display:none; color:red;">Please upload both files before proceeding.</p>
                    </div>

                    <div class="vl"></div>

                    <div id="proteome-select-column-2" style="margin-left: 0%;">
                        <p>Files currently loaded:</p>
                        <ul id="proteome-select-file-list"></ul>
                        <p>
                            If you have uploaded incorrect files and need to delete them, click below:
                        </p>
                        <input autocomplete="off"  type="submit" value="Delete All Files" onclick="clearFilePattern('{{ server_address }}', '{{ user }}', '{{ project }}', 'proteome-select')">
                        <p>
                            If you updated files manually, refresh the file list here
                        </p>
                        <input autocomplete="off"  type="submit" value="Refresh File List" onclick="checkFilePattern('{{ server_address }}',  '{{ user }}', '{{ project }}','proteome-select')">
                    </div>
                </div>
            </div>
            <br>
        </div>

        <br>
    
        <button id="back-button" class="text-button" onclick="revertGUI('{{ server_address }}', '{{ user }}', '{{ project }}', 'proteome')">
            &xlarr; Go back
        </button>

        <button id="forward-button" class="text-button" onclick="forwardGUI('{{ server_address }}', '{{ user }}', '{{ project }}', 'proteome')">
            Proceed &xrarr;
        </button>

		<br><br>

		{{ inspire_footer|safe }}

    </dev>
</body>
</html>